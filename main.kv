#<ColoredLabel@Label>:
#    font_size: '48sp'
#    color: (.6, .6, .6, 1)
#    canvas.before:
#        Color:
#            rgb: (.9, .9, .9)
#        Rectangle:
#            pos: self.x + sp(2), self.y + sp(2)
#            size: self.width - sp(4), self.height - sp(4)
<AppLayout>:
    orientation: 'vertical'
    name: 'Carousel'
    #fullscreen: True
    BoxLayout:
        id: header
        size_hint_y: None
        height: str(app.cfg.CAROUSEL_CONTROLS_H) + 'sp'
        Label:
            text: "Radio Player"
            size_hint_x: .8
        Button:
            text: "X"
            on_release: app.root.close_app()
        Button:
            text: 'start'
            on_press: app.start_service()
        Button:
            text: 'pause'
            on_press: app.pause()
        Button:
            text: 'resume'
            on_press: app.resume()

    BoxLayout:

        Carousel:
            id: carousel
            on_parent: root.generate_carousel()
            on_index: root.update_carousel_nav()
#            loop: btnloop.state == 'down'
            loop: True
    #        size_hint_x : 1
    #        size_hint_y: .8

    #        ColoredLabel:
    #            text: 'Slide 0'
    #            on_parent: print(self.size)
#            GridLayout:
#                cols: 6
#
#                BoxLayout:
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                    AsyncImage:
#            #                    pos_hint_x: .5
#                        size: '116sp', '116sp'
#                        source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#            BoxLayout:
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'
#                AsyncImage:
#        #                    pos_hint_x: .5
#                    size: '116sp', '116sp'
#                    source: 'https://tunisiefm.net/sites/default/files/styles/116_x_116/public/radio/logos/logo-shms-fm.jpg?itok=ftQ_1c1F'

#            ColoredLabel:
#                text: 'Slide 1'
#
#                Button:
#                    text: "hello"
#                    on_release: root.generate_carousel()
#
#            ColoredLabel:
#                text: 'Slide 2'

    BoxLayout:
        id: carousel_controls
        size_hint_y: None
        height: str(app.cfg.CAROUSEL_CONTROLS_H) + 'sp'
#        width: '58dp'
#        ToggleButton:
#            text: 'Loop'
#            id: btnloop

#        Label:
#            size_hint_x: None
#            width: self.height
#            text: '{}'.format(carousel.index)

        Button:
            size_hint_x: None
            width: self.height
            text: 'Prev'
            on_release: carousel.load_previous()

        BoxLayout:
            id : carousel_nav
#            size_hint_x: None
#            Image:
#                source: "data/cercle.png"




        Button:
            size_hint_x: None
            width: self.height
            text: 'Next'
            on_release: carousel.load_next()

    BoxLayout:
        orientation: 'horizontal'
        id: player_container
        size_hint_y: None
        height: str(app.cfg.PLAYER_CONTAINER_H) + 'sp'


        BoxLayout:
            id: current_radio_logo
            size_hint_x: None
            width : self.parent.height

            AsyncImage:
                source : app.current_logo
                allow_stretch: True
#                source: 'http://tunisiefm.net/sites/default/files/styles/medium_2/public/radio/logos/logo-jawhara-fm_1.png?itok=KGeCDSH4'

        BoxLayout:
            orientation: 'horizontal'
            background_color: 'red'

            Label:
                id: radio_title
                text: 'message'
            Label:
                id: pstatus
                text: ''



